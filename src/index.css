@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    /* Base Color Scale - Cyberpunk Theme */
    --base-100: 255 7% 97%;
    --base-200: 256 16% 93%;
    --base-300: 254 29% 88%;
    --base: 255 7% 97%;
    --base-content: 266 73% 37%;

    /* Primary Color Scale - Neon Green (Cyberpunk) */
    --primary-100: 132 100% 95%;
    --primary-200: 132 95% 85%;
    --primary-300: 132 90% 75%;
    --primary: 132 100% 64%;
    --primary-foreground: 121 31% 98%;
    --primary-glow: 132 100% 75%;

    /* Secondary Color Scale - Magenta/Pink (Cyberpunk) */
    --secondary-100: 302 100% 95%;
    --secondary-200: 302 90% 85%;
    --secondary-300: 302 80% 70%;
    --secondary: 302 100% 55%;
    --secondary-foreground: 308 7% 97%;

    /* Accent Color Scale - Orange (Cyberpunk) */
    --accent-100: 27 100% 95%;
    --accent-200: 27 95% 85%;
    --accent-300: 27 90% 75%;
    --accent: 27 100% 57%;
    --accent-foreground: 17 7% 97%;

    /* Neutral Color Scale - Deep Blue-Purple (Cyberpunk) */
    --neutral-100: 266 60% 90%;
    --neutral-200: 266 55% 75%;
    --neutral-300: 266 50% 60%;
    --neutral: 266 73% 37%;
    --neutral-content: 255 7% 97%;

    /* Info Color Scale - Purple-Blue (Cyberpunk) */
    --info-100: 260 100% 95%;
    --info-200: 260 90% 85%;
    --info-300: 260 80% 70%;
    --info: 260 100% 62%;
    --info-content: 255 7% 97%;

    /* Success Color Scale - Light Green (Cyberpunk) */
    --success-100: 131 100% 95%;
    --success-200: 131 95% 85%;
    --success-300: 131 90% 75%;
    --success: 131 100% 76%;
    --success-content: 121 31% 98%;

    /* Warning Color Scale - Yellow-Green (Cyberpunk) */
    --warning-100: 86 100% 95%;
    --warning-200: 86 95% 90%;
    --warning-300: 86 90% 85%;
    --warning: 86 100% 79%;
    --warning-content: 102 26% 98%;

    /* Error Color Scale - Red-Orange (Cyberpunk) */
    --error-100: 25 100% 95%;
    --error-200: 25 95% 85%;
    --error-300: 25 90% 75%;
    --error: 25 100% 63%;
    --error-content: 17 7% 97%;
    
    /* Cyberpunk Gradient Colors - Green to Magenta to Orange */
    --ocean-deep: 132 100% 50%;
    --ocean-mid: 302 100% 55%;
    --ocean-bright: 27 100% 70%;
    
    /* Terminal Colors - Cyberpunk */
    --terminal-bg: 266 60% 12%;
    --terminal-surface: 266 50% 18%;
    --terminal-border: 132 80% 55%;
    --terminal-text: 255 10% 92%;

    /* Command Colors - Cyberpunk */
    --cmd-success: 132 100% 64%;
    --cmd-error: 25 100% 63%;
    --cmd-info: 260 100% 62%;
    --cmd-warning: 86 100% 79%;

    /* Syntax Highlighting - Cyberpunk */
    --syntax-keyword: 132 100% 64%;
    --syntax-string: 302 100% 55%;
    --syntax-number: 27 100% 57%;
    --syntax-comment: 266 40% 60%;

    /* Core UI Colors - Cyberpunk Theme */
    --background: 255 7% 97%;
    --foreground: 266 73% 37%;
    --card: 255 7% 99%;
    --card-foreground: 266 73% 37%;
    --popover: 0 0% 100%;
    --popover-foreground: 266 73% 37%;
    --muted: 256 16% 90%;
    --muted-foreground: 266 50% 50%;
    --destructive: 25 100% 63%;
    --destructive-foreground: 17 7% 97%;
    --border: 254 29% 85%;
    --input: 256 16% 93%;
    --ring: 132 100% 64%;

    /* Component Radius - Cyberpunk Theme */
    --radius: 0.5rem;
    --radius-box: 0.5rem;
    --radius-field: 0.25rem;
    --radius-selector: 2rem;
    
    /* Field Sizes */
    --field-xs: 1.5rem;
    --field-sm: 2rem;
    --field-md: 2.5rem;
    --field-lg: 3rem;
    --field-xl: 3.5rem;
    
    /* Selector Sizes - Bumblebee Theme */
    --selector-xs: 1rem;
    --selector-sm: 1.25rem;
    --selector-md: 1.5rem;
    --selector-lg: 1.75rem;
    --selector-xl: 2rem;
    --size-selector: 0.25rem;
    --size-field: 0.25rem;
    
    /* Border Width */
    --border-width: 1px;
    
    /* Depth & Noise - Bumblebee */
    --depth: 1;
    --noise: 1;

    /* Motion Design Language */
    --motion-instant: 0ms;
    --motion-fast: 150ms;
    --motion-medium: 300ms;
    --motion-slow: 600ms;
    --motion-slower: 900ms;
    --easing-standard: cubic-bezier(0.4, 0, 0.2, 1);
    --easing-emphatic: cubic-bezier(0.34, 1.56, 0.64, 1);
    --easing-decelerate: cubic-bezier(0, 0, 0.2, 1);
    --easing-accelerate: cubic-bezier(0.4, 0, 1, 1);
    --easing-smooth: cubic-bezier(0.4, 0, 0.6, 1);

    /* Elevation System (3D Depth Tokens) - Cyberpunk Green Glow */
    --elevation-0: none;
    --elevation-1: 0 1px 2px hsl(132 100% 64% / 0.08);
    --elevation-2: 0 2px 8px hsl(132 100% 64% / 0.12), 0 1px 4px hsl(132 100% 64% / 0.06);
    --elevation-3: 0 8px 24px hsl(132 100% 64% / 0.18), 0 4px 12px hsl(132 100% 64% / 0.1);
    --elevation-4: 0 12px 40px hsl(132 100% 64% / 0.24), 0 6px 20px hsl(132 100% 64% / 0.12);
    --elevation-5: 0 20px 60px hsl(132 100% 64% / 0.3), 0 10px 30px hsl(132 100% 64% / 0.15);

    /* Typography Tokens */
    --font-sans: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    --font-display: 'Inter', system-ui, sans-serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', 'Courier New', monospace;
    --text-xs: 0.75rem;
    --text-sm: 0.875rem;
    --text-base: 1rem;
    --text-lg: 1.125rem;
    --text-xl: 1.25rem;
    --text-2xl: 1.5rem;
    --text-3xl: 1.875rem;
    --text-4xl: 2.25rem;
    --leading-tight: 1.25;
    --leading-normal: 1.5;
    --leading-relaxed: 1.75;

    /* Interactive Light Position */
    --light-x: 50%;
    --light-y: 50%;
    
    /* 3D Depth Effects - Cyberpunk Green */
    --depth-shadow: 0 2px 4px hsl(132 100% 64% / 0.15), 
                    0 4px 8px hsl(132 100% 64% / 0.12),
                    inset 0 -2px 4px hsl(0 0% 0% / 0.1);
    --depth-shadow-hover: 0 4px 8px hsl(132 100% 64% / 0.2), 
                          0 8px 16px hsl(132 100% 64% / 0.18),
                          inset 0 -2px 4px hsl(0 0% 0% / 0.15);

    /* Gradients - Cyberpunk Green to Magenta to Orange */
    --gradient-start: 132 100% 64%;
    --gradient-mid: 302 100% 55%;
    --gradient-end: 27 100% 57%;

    /* Glassmorphism - Cyberpunk Green Glass */
    --glass-bg: 132 100% 64% / 0.08;
    --glass-border: 132 100% 64% / 0.2;

    /* Sidebar Variables - Cyberpunk Theme */
    --sidebar-background: 255 7% 97%;
    --sidebar-foreground: 266 73% 37%;
    --sidebar-primary: 132 100% 64%;
    --sidebar-primary-foreground: 121 31% 98%;
    --sidebar-accent: 256 16% 90%;
    --sidebar-accent-foreground: 266 73% 37%;
    --sidebar-border: 254 29% 85%;
    --sidebar-ring: 132 100% 64%;
  }

  /* Custom Theme: Quantum */
  [data-theme="quantum"] {
    --primary: 185 90% 55%;
    --primary-foreground: 195 100% 5%;
    --primary-glow: 185 100% 75%;
    --accent: 43 96% 56%;
    --accent-foreground: 195 100% 5%;
    --secondary: 258 90% 66%;
    --secondary-foreground: 180 40% 98%;
    --background: 200 20% 98%;
    --foreground: 195 100% 10%;
    --card: 180 100% 99%;
    --card-foreground: 195 100% 12%;
    --border: 195 30% 88%;
    --ring: 185 90% 55%;
    --muted: 195 20% 94%;
    --muted-foreground: 195 30% 35%;
  }

  [data-theme="quantum"].dark {
    --primary: 185 90% 55%;
    --primary-foreground: 195 100% 5%;
    --background: 195 100% 5%;
    --foreground: 180 20% 95%;
    --card: 195 90% 8%;
    --card-foreground: 180 20% 95%;
    --muted-foreground: 195 20% 70%;
  }

  /* Custom Theme: Terminal */
  [data-theme="terminal"] {
    --primary: 160 84% 39%;
    --primary-foreground: 160 100% 98%;
    --primary-glow: 160 100% 60%;
    --accent: 43 96% 56%;
    --accent-foreground: 195 100% 5%;
    --secondary: 195 60% 40%;
    --secondary-foreground: 180 40% 98%;
    --background: 195 100% 5%;
    --foreground: 180 20% 90%;
    --card: 195 90% 8%;
    --card-foreground: 180 20% 92%;
    --border: 195 50% 20%;
    --ring: 160 84% 39%;
    --muted: 195 40% 15%;
    --muted-foreground: 195 20% 75%;
    --terminal-bg: 195 100% 5%;
    --terminal-surface: 195 95% 8%;
    --terminal-border: 195 60% 18%;
    --terminal-text: 180 20% 85%;
  }

  .dark {
    /* Base Color Scale - Dark Cyberpunk */
    --base-100: 266 60% 10%;
    --base-200: 266 55% 15%;
    --base-300: 266 50% 22%;
    --base: 266 60% 8%;
    --base-content: 255 7% 97%;

    /* Primary Color Scale - Dark Neon Green */
    --primary-100: 132 100% 25%;
    --primary-200: 132 100% 40%;
    --primary-300: 132 100% 55%;
    --primary: 132 100% 64%;
    --primary-foreground: 266 60% 10%;
    --primary-glow: 132 100% 75%;

    /* Secondary Color Scale - Dark Magenta */
    --secondary-100: 302 100% 25%;
    --secondary-200: 302 100% 40%;
    --secondary-300: 302 100% 50%;
    --secondary: 302 100% 55%;
    --secondary-foreground: 255 7% 97%;

    /* Accent Color Scale - Dark Orange */
    --accent-100: 27 100% 25%;
    --accent-200: 27 100% 40%;
    --accent-300: 27 100% 50%;
    --accent: 27 100% 57%;
    --accent-foreground: 266 60% 10%;

    /* Neutral Color Scale - Dark Purple */
    --neutral-100: 266 50% 25%;
    --neutral-200: 266 45% 35%;
    --neutral-300: 266 40% 45%;
    --neutral: 266 50% 60%;
    --neutral-content: 255 7% 97%;

    /* Info Color Scale - Dark Purple-Blue */
    --info-100: 260 100% 25%;
    --info-200: 260 100% 40%;
    --info-300: 260 100% 55%;
    --info: 260 100% 62%;
    --info-content: 255 7% 97%;

    /* Success Color Scale - Dark Green */
    --success-100: 131 100% 25%;
    --success-200: 131 100% 40%;
    --success-300: 131 100% 60%;
    --success: 131 100% 76%;
    --success-content: 121 31% 98%;

    /* Warning Color Scale - Dark Yellow-Green */
    --warning-100: 86 100% 30%;
    --warning-200: 86 100% 50%;
    --warning-300: 86 100% 65%;
    --warning: 86 100% 79%;
    --warning-content: 102 26% 98%;

    /* Error Color Scale - Dark Red-Orange */
    --error-100: 25 100% 30%;
    --error-200: 25 100% 45%;
    --error-300: 25 100% 55%;
    --error: 25 100% 63%;
    --error-content: 17 7% 97%;
    
    /* Terminal Colors - Dark Cyberpunk */
    --terminal-bg: 266 60% 8%;
    --terminal-surface: 266 55% 12%;
    --terminal-border: 132 90% 50%;
    --terminal-text: 255 10% 85%;

    /* Command Colors - Dark Cyberpunk */
    --cmd-success: 132 100% 64%;
    --cmd-error: 25 100% 63%;
    --cmd-info: 260 100% 62%;
    --cmd-warning: 86 100% 79%;

    /* Syntax Highlighting - Dark Cyberpunk */
    --syntax-keyword: 132 100% 64%;
    --syntax-string: 302 100% 55%;
    --syntax-number: 27 100% 57%;
    --syntax-comment: 266 30% 65%;

    /* Core UI Colors - Dark Cyberpunk */
    --background: 266 60% 8%;
    --foreground: 255 7% 97%;
    --card: 266 55% 12%;
    --card-foreground: 255 7% 97%;
    --popover: 266 55% 12%;
    --popover-foreground: 255 7% 97%;
    --muted: 266 50% 18%;
    --muted-foreground: 266 30% 70%;
    --destructive: 25 100% 63%;
    --destructive-foreground: 17 7% 97%;
    --border: 266 50% 25%;
    --input: 266 50% 25%;
    --ring: 132 100% 64%;

    /* 3D Depth Effects - Dark Cyberpunk */
    --depth-shadow: 0 2px 4px hsl(132 100% 64% / 0.2), 
                    0 4px 8px hsl(132 100% 64% / 0.15),
                    inset 0 -2px 4px hsl(0 0% 0% / 0.3);
    --depth-shadow-hover: 0 4px 8px hsl(132 100% 64% / 0.3), 
                          0 8px 16px hsl(132 100% 64% / 0.2),
                          inset 0 -2px 4px hsl(0 0% 0% / 0.4);

    /* Gradients - Dark Cyberpunk Green to Magenta to Orange */
    --gradient-start: 132 100% 50%;
    --gradient-mid: 302 100% 50%;
    --gradient-end: 27 100% 60%;

    /* Glassmorphism - Dark Cyberpunk Green Glass */
    --glass-bg: 132 100% 64% / 0.12;
    --glass-border: 132 100% 64% / 0.25;

    /* Sidebar Variables - Dark Cyberpunk */
    --sidebar-background: 266 55% 12%;
    --sidebar-foreground: 255 7% 90%;
    --sidebar-primary: 132 100% 64%;
    --sidebar-primary-foreground: 266 60% 10%;
    --sidebar-accent: 266 50% 18%;
    --sidebar-accent-foreground: 255 7% 97%;
    --sidebar-border: 266 50% 25%;
    --sidebar-ring: 132 100% 64%;
  }
  
  /* Custom scrollbar styles */
  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb {
    background: hsl(var(--terminal-border));
    border-radius: 3px;
  }
  
  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--terminal-text) / 0.3);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground antialiased;
    font-family: var(--font-sans);
    font-size: var(--text-sm);
    line-height: var(--leading-normal);
    /* Performance: Force GPU acceleration for smoother rendering */
    transform: translateZ(0);
    backface-visibility: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }
  
  /* Ensure all custom fonts use font-display: swap */
  @font-face {
    font-family: 'Inter';
    font-display: swap;
  }
  
  /* Mobile font optimization */
  @media (min-width: 640px) {
    body {
      font-size: var(--text-base);
    }
  }

  /* Typography Scale */
  h1, h2, h3, h4, h5, h6 {
    font-family: var(--font-display);
    font-weight: 700;
    line-height: var(--leading-tight);
  }

  code, pre, kbd {
    font-family: var(--font-mono);
  }
  
  /* Better mobile text sizing */
  html {
    -webkit-text-size-adjust: 100%;
    text-size-adjust: 100%;
  }
  
  @keyframes pulse-soft {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.5;
    }
  }
  
  @keyframes gradient {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }
  
  @keyframes shimmer {
    0% {
      background-position: -200% center;
    }
    100% {
      background-position: 200% center;
    }
  }
  
  @keyframes scan {
    0% {
      transform: translateY(0);
    }
    100% {
      transform: translateY(100%);
    }
  }
  
  @keyframes glitch {
    0% {
      text-shadow: 0.05em 0 0 hsl(var(--error)), -0.05em -0.025em 0 hsl(var(--info));
      transform: translate(0);
    }
    15% {
      text-shadow: -0.05em -0.025em 0 hsl(var(--error)), 0.025em 0.025em 0 hsl(var(--info));
      transform: translate(-2px, 2px);
    }
    30% {
      text-shadow: 0.025em 0.05em 0 hsl(var(--error)), 0.05em 0 0 hsl(var(--info));
      transform: translate(2px, -1px);
    }
    45% {
      text-shadow: -0.025em 0 0 hsl(var(--error)), -0.025em -0.025em 0 hsl(var(--info));
      transform: translate(0, 1px);
    }
    60% {
      text-shadow: 0.05em 0 0 hsl(var(--error)), -0.05em -0.025em 0 hsl(var(--info));
      transform: translate(-1px, -2px);
    }
    75% {
      text-shadow: -0.05em -0.025em 0 hsl(var(--error)), 0.025em 0.025em 0 hsl(var(--info));
      transform: translate(1px, 1px);
    }
    100% {
      text-shadow: 0.025em 0.05em 0 hsl(var(--error)), 0.05em 0 0 hsl(var(--info));
      transform: translate(0);
    }
  }
  
  /* 21st.dev Style Animations */
  @keyframes gradientMove {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
  }

  @keyframes rotateLight {
    to { transform: rotate(360deg); }
  }

  @keyframes particles {
    0% { transform: translateY(0) translateX(0); opacity: 0; }
    10% { opacity: 0.3; }
    90% { opacity: 0.3; }
    100% { transform: translateY(-100vh) translateX(50px); opacity: 0; }
  }
  
  .animate-gradient {
    background-size: 200% 200%;
    animation: gradient 15s ease infinite;
  }
  
  .animate-shimmer {
    background-size: 200% 100%;
    animation: shimmer 3s linear infinite;
  }
  
  .animate-scan {
    animation: scan 8s linear infinite;
  }
  
  .glitch-text {
    animation: glitch 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94) infinite;
  }
  
  .perspective-1000 {
    perspective: 1000px;
  }

  /* Container Query Support */
  @supports (container-type: inline-size) {
    .hero-container {
      container-type: inline-size;
      container-name: hero;
    }

    @container hero (min-width: 768px) {
      .terminal-window {
        max-width: 600px;
      }
    }
  }

  /* Enhanced Focus Styles for Accessibility */
  *:focus-visible {
    outline: 2px solid hsl(var(--ring));
    outline-offset: 2px;
    border-radius: 4px;
  }

  button:focus-visible,
  a:focus-visible,
  [role="button"]:focus-visible {
    outline: 3px solid hsl(var(--ring));
    outline-offset: 3px;
  }

  /* Screen Reader Only utility class */
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    white-space: nowrap;
    border-width: 0;
  }

  .sr-only:focus,
  .sr-only:active {
    position: static;
    width: auto;
    height: auto;
    padding: inherit;
    margin: inherit;
    overflow: visible;
    clip: auto;
    white-space: normal;
  }
  
  /* Flowing Button Animation */
  @keyframes flow {
    0%, 100% { 
      transform: translateX(0) scale(1);
      filter: brightness(1);
    }
    50% { 
      transform: translateX(2px) scale(1.02);
      filter: brightness(1.1);
    }
  }

  @keyframes shimmer-flow {
    0% { background-position: -200% center; }
    100% { background-position: 200% center; }
  }

  /* 3D Button Styles - Unique Colors & Flowing */
  .btn-3d-teal {
    background: linear-gradient(135deg, hsl(173 80% 40%) 0%, hsl(190 84% 29%) 100%);
    box-shadow: 
      0 4px 0 hsl(190 84% 20%),
      var(--elevation-2),
      inset 0 1px 0 hsl(173 80% 50% / 0.3);
    color: white;
    font-weight: 600;
    transform: translateY(0) translateZ(0);
    transition: all var(--motion-medium) var(--easing-emphatic);
    border: 1px solid hsl(173 80% 50% / 0.3);
  }

  .btn-3d-teal:hover {
    transform: translateY(-3px) translateZ(10px);
    box-shadow: 
      0 7px 0 hsl(190 84% 20%),
      var(--elevation-4),
      inset 0 1px 0 hsl(173 80% 50% / 0.4);
    animation: flow 1.5s ease-in-out infinite;
  }

  .btn-3d-teal:active {
    transform: translateY(2px) translateZ(0);
    box-shadow: 
      0 2px 0 hsl(190 84% 20%),
      var(--elevation-1),
      inset 0 1px 0 hsl(173 80% 50% / 0.2);
  }

  .btn-3d-purple {
    background: linear-gradient(135deg, hsl(258 90% 66%) 0%, hsl(262 83% 58%) 100%);
    box-shadow: 
      0 4px 0 hsl(258 59% 38%),
      var(--elevation-2),
      inset 0 1px 0 hsl(258 90% 76% / 0.3);
    color: white;
    font-weight: 600;
    transform: translateY(0) translateZ(0);
    transition: all var(--motion-medium) var(--easing-emphatic);
    border: 1px solid hsl(258 90% 76% / 0.3);
  }

  .btn-3d-purple:hover {
    transform: translateY(-3px) translateZ(10px);
    box-shadow: 
      0 7px 0 hsl(258 59% 38%),
      var(--elevation-4),
      inset 0 1px 0 hsl(258 90% 76% / 0.4);
    animation: flow 1.5s ease-in-out infinite;
  }

  .btn-3d-purple:active {
    transform: translateY(2px) translateZ(0);
    box-shadow: 
      0 2px 0 hsl(258 59% 38%),
      var(--elevation-1),
      inset 0 1px 0 hsl(258 90% 76% / 0.2);
  }

  .btn-3d-gold {
    background: linear-gradient(135deg, hsl(38 92% 50%) 0%, hsl(32 95% 44%) 100%);
    box-shadow: 
      0 4px 0 hsl(30 100% 34%),
      var(--elevation-2),
      inset 0 1px 0 hsl(38 92% 60% / 0.3);
    color: white;
    font-weight: 600;
    transform: translateY(0) translateZ(0);
    transition: all var(--motion-medium) var(--easing-emphatic);
    border: 1px solid hsl(38 92% 60% / 0.3);
  }

  .btn-3d-gold:hover {
    transform: translateY(-3px) translateZ(10px);
    box-shadow: 
      0 7px 0 hsl(30 100% 34%),
      var(--elevation-4),
      inset 0 1px 0 hsl(38 92% 60% / 0.4);
    animation: flow 1.5s ease-in-out infinite;
  }

  .btn-3d-gold:active {
    transform: translateY(2px) translateZ(0);
    box-shadow: 
      0 2px 0 hsl(30 100% 34%),
      var(--elevation-1),
      inset 0 1px 0 hsl(38 92% 60% / 0.2);
  }

  .btn-3d-cyan {
    background: linear-gradient(135deg, hsl(187 92% 43%) 0%, hsl(189 85% 35%) 100%);
    box-shadow: 
      0 4px 0 hsl(190 84% 29%),
      var(--elevation-2),
      inset 0 1px 0 hsl(187 92% 53% / 0.3);
    color: white;
    font-weight: 600;
    transform: translateY(0) translateZ(0);
    transition: all var(--motion-medium) var(--easing-emphatic);
    border: 1px solid hsl(187 92% 53% / 0.3);
  }

  .btn-3d-cyan:hover {
    transform: translateY(-3px) translateZ(10px);
    box-shadow: 
      0 7px 0 hsl(190 84% 29%),
      var(--elevation-4),
      inset 0 1px 0 hsl(187 92% 53% / 0.4);
    animation: flow 1.5s ease-in-out infinite;
  }

  .btn-3d-cyan:active {
    transform: translateY(2px) translateZ(0);
    box-shadow: 
      0 2px 0 hsl(190 84% 29%),
      var(--elevation-1),
      inset 0 1px 0 hsl(187 92% 53% / 0.2);
  }
  
  /* Shimmer keyframe */
  @keyframes shimmer {
    0% { transform: translateX(-100%); }
    100% { transform: translateX(200%); }
  }
  
  /* Lighthouse sweep animation */
  @keyframes lighthouse-sweep {
    0% {
      transform: rotate(0deg);
      opacity: 0;
    }
    25% {
      opacity: 0.8;
    }
    50% {
      transform: rotate(180deg);
      opacity: 0.4;
    }
    75% {
      opacity: 0.8;
    }
    100% {
      transform: rotate(360deg);
      opacity: 0;
    }
  }
  
  /* Glass Card 3D Effect */
  .glass-card-3d {
    @apply backdrop-blur-xl border;
    background: hsl(var(--glass-bg));
    border-color: hsl(var(--glass-border));
    box-shadow: 
      0 4px 6px hsl(var(--primary) / 0.1),
      0 8px 16px hsl(var(--primary) / 0.08),
      inset 0 1px 0 hsl(var(--primary-glow) / 0.15);
    @apply transition-all duration-300;
    transform-style: preserve-3d;
    /* Performance: Prevent CLS and enable GPU acceleration */
    min-height: 200px;
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: transform, opacity;
  }

  .glass-card-3d:hover {
    transform: translateY(-2px) translateZ(0);
    box-shadow: 
      0 6px 12px hsl(var(--primary) / 0.15),
      0 12px 24px hsl(var(--primary) / 0.12),
      inset 0 1px 0 hsl(var(--primary-glow) / 0.2);
  }

  /* 3D Lift effect for interactive elements */
  .hover-3d-lift {
    @apply transition-all duration-300;
    transform: translateZ(0);
    backface-visibility: hidden;
    will-change: transform, opacity;
    box-shadow: 0 2px 8px hsl(var(--primary) / 0.1);
  }

  .hover-3d-lift:hover {
    transform: translateY(-4px) translateZ(10px);
    box-shadow: 
      0 8px 24px hsl(var(--primary) / 0.2),
      0 4px 12px hsl(var(--primary) / 0.15);
  }

  /* Card reveal animation */
  @keyframes card-reveal {
    0% {
      opacity: 0;
      transform: perspective(1000px) rotateX(-20deg) translateY(30px);
    }
    100% {
      opacity: 1;
      transform: perspective(1000px) rotateX(0deg) translateY(0);
    }
  }

  .animate-card-reveal {
    animation: card-reveal 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
  }

  /* Glass Blur 4% - Floating Panels */
  .glass-blur-4 {
    backdrop-filter: blur(4px);
    background: hsl(173 80% 40% / 0.04);
    border: 1px solid hsl(173 80% 40% / 0.2);
  }
  
  /* 21st.dev Hero Styles */
  .hero-quantum {
    background: radial-gradient(circle at 30% 30%, hsl(190 84% 29%) 0%, hsl(195 85% 16%) 40%, hsl(195 100% 8%) 100%);
    background-size: 200% 200%;
    animation: gradientMove 18s ease infinite;
  }

  .hero-light-overlay {
    position: absolute;
    top: -30%;
    left: -30%;
    width: 160%;
    height: 160%;
    background: conic-gradient(from 90deg at 50% 50%, hsl(173 80% 40%), hsl(38 92% 50%), transparent 70%);
    opacity: 0.15;
    filter: blur(80px);
    animation: rotateLight 60s linear infinite;
    pointer-events: none;
  }

  .glass-panel-float {
    backdrop-filter: blur(20px) saturate(180%);
    background-color: rgba(255, 255, 255, 0.06);
    border: 1px solid rgba(255, 255, 255, 0.15);
    border-radius: 24px;
    box-shadow: 0 0 60px hsl(173 80% 40% / 0.25);
  }

  .noise-overlay {
    position: absolute;
    inset: 0;
    opacity: 0.15;
    mix-blend-mode: overlay;
    pointer-events: none;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.4'/%3E%3C/svg%3E");
  }
  
  /* Mobile-optimized animations */
  @media (max-width: 768px) {
    body {
      font-size: 13px;
      line-height: 1.5;
    }
    
    h1 { font-size: clamp(1.75rem, 5vw, 2.5rem); }
    h2 { font-size: clamp(1.5rem, 4vw, 2rem); }
    h3 { font-size: clamp(1.25rem, 3.5vw, 1.75rem); }
    
    .hover\:scale-105:hover {
      transform: scale(1.02);
    }
    
    .hover\:scale-110:hover {
      transform: scale(1.05);
    }
    
    /* Disable expensive animations on mobile */
    .animate-float-3d,
    .animate-rotate-3d,
    .hero-light-overlay {
      animation: none !important;
    }
    
    /* Reduce blur intensity */
    .backdrop-blur-xl {
      backdrop-filter: blur(8px);
    }
    
    /* Touch targets */
    button, a[role="button"] {
      min-height: 44px;
      min-width: 44px;
      padding: 12px 16px;
    }
    
    .btn-3d-teal, .btn-3d-purple, .btn-3d-cyan, .btn-3d-gold {
      min-height: 44px;
      padding: 12px 20px;
    }
  }
  
  /* Touch-friendly button states */
  button, a {
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  /* Smooth scrolling for all devices */
  html {
    scroll-behavior: smooth;
  }
  
  /* Better text rendering on mobile */
  @media (max-width: 768px) {
    body {
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      text-rendering: optimizeLegibility;
    }
  }
  
  /* Performance optimizations to reduce forced reflows */
  [class*="motion-"],
  [class*="animate-"] {
    will-change: transform, opacity;
    transform: translateZ(0);
  }
  
  /* Optimize animated elements for GPU acceleration */
  .animate-gradient,
  .animate-pulse,
  .animate-pulse-soft,
  .animate-shimmer,
  .animate-scan,
  .animate-float,
  .animate-float-3d,
  .animate-rotate-3d {
    will-change: transform, opacity;
    backface-visibility: hidden;
    transform: translateZ(0);
  }
  
  /* Reduce repaints and isolate reflows with aggressive containment */
  .glass-card-3d,
  .btn-3d-teal,
  .btn-3d-purple,
  .btn-3d-gold,
  .btn-3d-cyan {
    contain: layout style paint;
  }
  
  /* Isolate reflows in major sections */
  section,
  main,
  header,
  footer,
  nav,
  article,
  aside {
    contain: layout;
  }
  
  /* Prevent Radix UI reflow propagation - Portal containers */
  [data-radix-popper-content-wrapper],
  [data-radix-portal],
  [data-radix-dialog-content],
  [data-radix-dropdown-menu-content],
  [data-radix-select-content] {
    contain: layout style paint;
    will-change: transform;
  }
  
  /* Overlay components optimization */
  [role="dialog"],
  [role="menu"],
  [role="listbox"],
  [role="combobox"],
  [data-state="open"] {
    contain: layout style paint;
    will-change: transform, opacity;
  }
  
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
    
    .hero-quantum {
      animation: none !important;
      background-position: 0% 50%;
    }
    
    .hero-light-overlay {
      display: none;
    }
  }
}

/* ============================================
   UTILITY LAYER - Motion, Lighting, Interactions
   ============================================ */
@layer utilities {
  /* Elevation Utilities */
  .elevation-0 { box-shadow: var(--elevation-0); }
  .elevation-1 { box-shadow: var(--elevation-1); }
  .elevation-2 { box-shadow: var(--elevation-2); }
  .elevation-3 { box-shadow: var(--elevation-3); }
  .elevation-4 { box-shadow: var(--elevation-4); }
  .elevation-5 { box-shadow: var(--elevation-5); }

  /* Motion Utilities */
  .transition-fast { transition-duration: var(--motion-fast); }
  .transition-medium { transition-duration: var(--motion-medium); }
  .transition-slow { transition-duration: var(--motion-slow); }
  .transition-slower { transition-duration: var(--motion-slower); }
  
  .ease-standard { transition-timing-function: var(--easing-standard); }
  .ease-emphatic { transition-timing-function: var(--easing-emphatic); }
  .ease-decelerate { transition-timing-function: var(--easing-decelerate); }
  .ease-accelerate { transition-timing-function: var(--easing-accelerate); }
  .ease-smooth { transition-timing-function: var(--easing-smooth); }

  /* Ambient Lighting Effect */
  .ambient-light {
    position: relative;
    overflow: hidden;
  }

  .ambient-light::before {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at var(--light-x, 50%) var(--light-y, 50%),
      hsl(var(--primary) / 0.3) 0%,
      hsl(var(--primary) / 0.15) 30%,
      transparent 70%
    );
    pointer-events: none;
    transition: background var(--motion-medium) var(--easing-smooth);
    z-index: 0;
  }

  .ambient-light > * {
    position: relative;
    z-index: 1;
  }

  /* Interactive Gradient Background */
  .gradient-interactive {
    background: radial-gradient(
      circle at var(--light-x, 50%) var(--light-y, 50%),
      hsl(var(--primary) / 0.2),
      hsl(var(--accent) / 0.1),
      transparent 80%
    );
    transition: background var(--motion-slow) var(--easing-smooth);
  }

  /* Micro-interaction: Button Ripple */
  .btn-ripple {
    position: relative;
    overflow: hidden;
  }

  .btn-ripple::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle,
      hsl(var(--primary-glow) / 0.5) 10%,
      transparent 10.01%
    );
    transform: scale(10);
    opacity: 0;
    pointer-events: none;
    transition: transform var(--motion-slow) var(--easing-standard),
                opacity var(--motion-medium);
  }

  .btn-ripple:active::after {
    transform: scale(0);
    opacity: 0.6;
    transition: transform 0ms, opacity var(--motion-fast);
  }

  /* Micro-interaction: Focus Halo */
  .focus-halo:focus-visible {
    outline: none;
    box-shadow: 
      0 0 0 3px hsl(var(--background)),
      0 0 0 5px hsl(var(--primary)),
      0 0 20px hsl(var(--primary) / 0.4);
    transition: box-shadow var(--motion-fast) var(--easing-standard);
  }

  /* Micro-interaction: Hover Glow */
  .hover-glow {
    position: relative;
    transition: all var(--motion-medium) var(--easing-standard);
  }

  .hover-glow::before {
    content: "";
    position: absolute;
    inset: -2px;
    background: linear-gradient(
      135deg,
      hsl(var(--primary) / 0.4),
      hsl(var(--accent) / 0.4)
    );
    border-radius: inherit;
    opacity: 0;
    filter: blur(8px);
    transition: opacity var(--motion-medium) var(--easing-standard);
    z-index: -1;
  }

  .hover-glow:hover::before {
    opacity: 1;
  }

  /* Micro-interaction: Press Scale */
  .press-scale {
    transition: transform var(--motion-fast) var(--easing-emphatic);
  }

  .press-scale:active {
    transform: scale(0.96);
  }

  /* Touch Optimization */
  .touch-manipulation {
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
  }

  /* Micro-interaction: Magnetic Hover */
  .magnetic-hover {
    transition: transform var(--motion-medium) var(--easing-smooth);
  }

  .magnetic-hover:hover {
    transform: translateY(-2px);
  }

  /* 3D Card Hover Effect */
  .card-3d-hover {
    position: relative;
    transform-style: preserve-3d;
    transition: transform var(--motion-slow) var(--easing-emphatic), 
                box-shadow var(--motion-slow) var(--easing-standard);
  }

  .card-3d-hover:hover {
    transform: rotateY(6deg) rotateX(3deg) scale(1.03);
    box-shadow: 0 20px 40px hsl(var(--primary) / 0.2);
  }

  .card-3d-hover::after {
    content: "";
    position: absolute;
    inset: 0;
    background: radial-gradient(
      circle at 50% 50%, 
      hsl(var(--primary-glow) / 0.3), 
      transparent 70%
    );
    opacity: 0;
    transition: opacity var(--motion-medium);
    pointer-events: none;
    border-radius: inherit;
  }

  .card-3d-hover:hover::after {
    opacity: 1;
  }

  /* Typography Utilities */
  .text-display {
    font-family: var(--font-display);
  }

  .text-mono {
    font-family: var(--font-mono);
  }

  .leading-tight { line-height: var(--leading-tight); }
  .leading-normal { line-height: var(--leading-normal); }
  .leading-relaxed { line-height: var(--leading-relaxed); }

  /* Smooth Performance */
  .smooth-rendering {
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
  }

  .gpu-accelerated {
    will-change: transform;
    transform: translateZ(0);
    backface-visibility: hidden;
  }
}
